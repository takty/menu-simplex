{
  "version": 3,
  "sources": ["../src/menu-simplex.ts"],
  "sourcesContent": ["/**\n * Menu Simplex (Progressively collapsing menu)\n *\n * @author Takuto Yanagida\n * @version 2023-10-06\n */\n\nexport class MenuSimplex {\n\n\tstatic NS = 'menu-simplex';\n\n\tstatic CLS_PANEL       = 'panel';\n\tstatic CLS_PANEL_POPUP = 'panel-popup';\n\tstatic CLS_PANEL_MORE  = 'panel-more';\n\tstatic CLS_MENU        = 'menu';\n\tstatic CLS_MENU_BAR    = 'menu-bar';\n\tstatic CLS_MENU_POPUP  = 'menu-popup';\n\tstatic CLS_MENU_MORE   = 'menu-more';\n\tstatic CLS_FOCUS_TRAP  = 'focus-trap';\n\n\tstatic CP_IS_CLOSED_AUTO = '--is-closed-auto';\n\tstatic CP_IS_BG_FIXED    = '--is-background-fixed';\n\tstatic CP_IS_REVERSED    = '--is-reversed';\n\tstatic CP_MORE_POS       = '--more-position';\n\tstatic CP_COLLAPSED      = '--collapsed';\n\n\tstatic CLS_MORE    = 'more';\n\tstatic CLS_CURRENT = 'current';\n\n\tstatic CLS_READY            = 'ready';\n\tstatic CLS_HOVER            = 'hover';\n\tstatic CLS_HOVER_ANCESTOR   = 'hover-ancestor';\n\tstatic CLS_ACTIVE           = 'active';\n\tstatic CLS_OPENED           = 'opened';\n\tstatic CLS_IS_COLLAPSED     = 'is-collapsed';\n\tstatic CLS_IS_COLLAPSED_ALL = 'is-collapsed-all';\n\n\tstatic CP_MAX_WIDTH = '--max-width';\n\n\n\t// -------------------------------------------------------------------------\n\n\n\tprivate static throttle(fn: Function): () => void {\n\t\tlet isRunning: boolean;\n\t\tfunction run() {\n\t\t\tisRunning = false;\n\t\t\tfn();\n\t\t}\n\t\treturn () => {\n\t\t\tif (isRunning) return;\n\t\t\tisRunning = true;\n\t\t\trequestAnimationFrame(run);\n\t\t};\n\t}\n\n\tprivate static addHoverStateEventListener(root: HTMLElement, elms: Element[]) {\n\t\tconst enter = (e: PointerEvent) => {\n\t\t\tconst li = (e.target as HTMLElement).parentElement;\n\n\t\t\tif (li && 'mouse' === e.pointerType && !li.classList.contains(MenuSimplex.CLS_CURRENT)) {\n\t\t\t\tli.classList.add(MenuSimplex.CLS_HOVER);\n\t\t\t\tfor (let elm = li.parentElement; elm && elm !== root; elm = elm.parentElement) {\n\t\t\t\t\tif ('LI' === elm.tagName) {\n\t\t\t\t\t\telm.classList.add(MenuSimplex.CLS_HOVER_ANCESTOR);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst leave = (e: PointerEvent) => {\n\t\t\tconst li = (e.target as HTMLElement).parentElement;\n\n\t\t\tif (li && 'mouse' === e.pointerType && !li.classList.contains(MenuSimplex.CLS_CURRENT)) {\n\t\t\t\tli.classList.remove(MenuSimplex.CLS_HOVER);\n\t\t\t\tfor (let elm = li.parentElement; elm && elm !== root; elm = elm.parentElement) {\n\t\t\t\t\tif ('LI' === elm.tagName) {\n\t\t\t\t\t\telm.classList.remove(MenuSimplex.CLS_HOVER_ANCESTOR);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const it of elms) {\n\t\t\tconst fec = it.firstElementChild as HTMLElement;\n\t\t\tif (fec) {\n\t\t\t\tfec.addEventListener('pointerenter', enter);\n\t\t\t\tfec.addEventListener('pointerleave', leave);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static fixed: boolean;\n\n\tprivate static fixBackground(enabled: boolean) {\n\t\tif (MenuSimplex.fixed === enabled) return;\n\t\tMenuSimplex.fixed = enabled;\n\n\t\tconst scrollingElement = () => {\n\t\t\treturn ('scrollingElement' in document) ? document.scrollingElement : (<Document>document).documentElement;\n\t\t};\n\t\tconst se = scrollingElement();\n\t\tif (!se) return;\n\t\tconst sy = enabled ? se.scrollTop : parseInt(document.body.style.top ?? '0');\n\t\tconst cs = getComputedStyle(document.body);\n\t\tconst mw = parseFloat(cs.marginInlineStart) + parseFloat(cs.marginInlineEnd);\n\t\tconst ss = {\n\t\t\tposition: 'fixed',\n\t\t\ttop     : `${-sy}px`,\n\t\t\tleft    : '0',\n\t\t\twidth   : `calc(100vw - ${mw}px)`,\n\t\t\theight  : '100dvh',\n\n\t\t\t'overflow-y': 'scroll',  // For keeping scroll bar width.\n\t\t};\n\t\tfor (const [key, value] of Object.entries(ss)) {\n\t\t\t(document.body.style as any)[key] = enabled ? value : '';\n\t\t}\n\t\tif (!enabled) {\n\t\t\twindow.scrollTo(0, -sy);\n\t\t}\n\t}\n\n\tprivate static getStylePropertyBool(elm: HTMLElement, prop: string): boolean|null {\n\t\tlet v = getComputedStyle(elm).getPropertyValue(prop).trim();\n\t\tif (('\"' === v.at(0) && '\"' === v.at(-1)) || (\"'\" === v.at(0) && \"'\" === v.at(-1))) {\n\t\t\tv = v.slice(1, -1);\n\t\t}\n\t\tif (!v.length) return null;\n\t\tif (typeof v !== 'string') return Boolean(v);\n\t\ttry {\n\t\t\treturn true === JSON.parse(v.toLowerCase());\n\t\t} catch(e) {\n\t\t\treturn v.length !== 0;\n\t\t}\n\t}\n\n\tprivate static getStylePropertyString(elm: HTMLElement, prop: string): string|null {\n\t\tconst v = getComputedStyle(elm).getPropertyValue(prop).trim().replace(new RegExp('^\\\"+|\\\"+$', 'g'), '');\n\t\tif (!v.length) return null;\n\t\treturn (typeof v === 'string') ? v : String(v);\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\n\t#divRoot    : HTMLElement;\n\t#ulBar      : HTMLElement;\n\t#ulMore     : HTMLElement;\n\t#liFocusTrap: HTMLElement;\n\n\t#moreIdx: number;\n\n\t#scrollY: number = 0;\n\t#curIts : Item[] = [];\n\n\t#skipResize: boolean = false;\n\n\tconstructor(id: string|null = null) {\n\t\tconst divRoot = id ? document.getElementById(id) : document.getElementsByClassName(MenuSimplex.NS)[0];\n\t\tif (!divRoot) throw new DOMException();\n\t\tthis.#divRoot = divRoot as HTMLElement;\n\t\tthis.#ulBar   = this.#divRoot.getElementsByTagName('ul')[0];\n\t\tif (!this.#ulBar) throw new DOMException();\n\t\tthis.#ulBar.classList.add(MenuSimplex.CLS_MENU, MenuSimplex.CLS_MENU_BAR);\n\n\t\tif (!this.#divRoot.classList.contains(MenuSimplex.NS)) {\n\t\t\tthis.#divRoot.classList.add(MenuSimplex.NS);\n\t\t}\n\n\t\t[this.#ulMore, this.#moreIdx] = this.initMore();\n\t\tconst its = this.initBarItems();\n\t\tthis.initPanel(its);\n\t\tconst order = this.initOrder(its);\n\t\tthis.#liFocusTrap = this.initFocusTrap();\n\n\t\tconst allLis = Array.from(this.#ulBar.querySelectorAll('li'));\n\t\tMenuSimplex.addHoverStateEventListener(this.#divRoot, allLis);\n\n\t\tconst onResize = () => {\n\t\t\tif (this.#skipResize) {\n\t\t\t\tthis.#skipResize = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.closeAll(its);\n\t\t\tthis.alignItems(its, order);\n\t\t};\n\t\tsetTimeout(() => {\n\t\t\tconst ro = new ResizeObserver(() => requestAnimationFrame(onResize));\n\t\t\tro.observe(this.#divRoot);\n\t\t\tro.observe(this.#divRoot.parentElement as HTMLElement);\n\t\t}, 10);\n\t\tsetTimeout(() => this.#divRoot.classList.add(MenuSimplex.CLS_READY), 100);\n\t}\n\n\tprivate initMore(): [HTMLElement, number] {\n\t\tlet li: HTMLElement|null = null;\n\t\tlet idx = 0;\n\t\tfor (const e of Array.from(this.#ulBar.children)) {\n\t\t\tif (e.classList.contains(MenuSimplex.CLS_MORE)) {\n\t\t\t\tli = e as HTMLElement;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tidx += 1;\n\t\t}\n\t\tif (!li) {\n\t\t\tli = document.createElement('li');\n\t\t\tli.classList.add(MenuSimplex.CLS_MORE);\n\n\t\t\tconst pos = MenuSimplex.getStylePropertyString(this.#divRoot, MenuSimplex.CP_MORE_POS);\n\t\t\tif (null === pos || 'end' === pos) {\n\t\t\t\tthis.#ulBar.append(li);\n\t\t\t\tidx = this.#ulBar.children.length - 1;\n\t\t\t} else if ('start' === pos) {\n\t\t\t\tthis.#ulBar.prepend(li);\n\t\t\t\tidx = 0;\n\t\t\t}\n\t\t}\n\t\tlet btn = li.querySelector(':scope > button');\n\t\tif (!btn) {\n\t\t\tbtn = document.createElement('button');\n\t\t\tbtn.setAttribute('title', 'More');\n\t\t\tli.insertBefore(btn, li.firstChild);\n\t\t}\n\t\tconst uls = li.querySelectorAll(':scope > ul, :scope > div > ul');\n\t\tlet ul = Array.from(uls).find(e => !e.children.length) as HTMLElement;\n\t\tif (!ul) {\n\t\t\tul = document.createElement('ul');\n\t\t\tconst div = li.querySelector(':scope > div');\n\t\t\tif (div) {\n\t\t\t\tdiv.appendChild(ul);\n\t\t\t} else {\n\t\t\t\tli.appendChild(ul);\n\t\t\t}\n\t\t}\n\t\tul.classList.add(MenuSimplex.CLS_MENU, MenuSimplex.CLS_MENU_MORE);\n\t\tconst panel = (ul.parentElement === li) ? ul : (ul.parentElement as HTMLElement);\n\t\tpanel.classList.add(MenuSimplex.CLS_PANEL, MenuSimplex.CLS_PANEL_MORE);\n\t\treturn [ul, idx];\n\t}\n\n\tprivate initBarItems(): Item[] {\n\t\tconst its: Item[] = [];\n\t\tconst lis = Array.from(this.#ulBar.querySelectorAll(':scope > li'));\n\t\tfor (const li of lis) {\n\t\t\tconst btn = li.querySelector(':scope > button') as HTMLElement;\n\t\t\tconst panel = li.querySelector(':scope > :is(ul, div)') as HTMLElement;\n\t\t\tif (panel && !li.classList.contains(MenuSimplex.CLS_MORE)) {\n\t\t\t\tpanel.classList.add(MenuSimplex.CLS_PANEL, MenuSimplex.CLS_PANEL_POPUP);\n\t\t\t\tconst menu = ('UL' === panel.tagName) ? panel : panel.querySelector(':scope > ul') as HTMLElement;\n\t\t\t\tmenu.classList.add(MenuSimplex.CLS_MENU, MenuSimplex.CLS_MENU_POPUP);\n\t\t\t}\n\t\t\tits.push(new Item(li as HTMLElement, btn, panel, 0));\n\t\t}\n\t\treturn its;\n\t}\n\n\tprivate initPanel(its: Item[]) {\n\t\tfor (const it of its) {\n\t\t\tconst { li, btn, panel } = it;\n\t\t\tif (!btn || !panel) continue;\n\n\t\t\tbtn.setAttribute('area-expanded', 'false');\n\t\t\tif (!panel.id) {\n\t\t\t\tconst id = btn.id ? btn.id : (li.id ? li.id : '');\n\t\t\t\tif (id) {\n\t\t\t\t\tpanel.id = id + '-sub';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (panel.id) {\n\t\t\t\tbtn.setAttribute('area-controls', panel.id);\n\t\t\t}\n\t\t\tbtn.addEventListener('click', e => {\n\t\t\t\tif (btn.classList.contains(MenuSimplex.CLS_OPENED)) {\n\t\t\t\t\tthis.close(it);\n\t\t\t\t} else {\n\t\t\t\t\tif (this.#ulBar === li.parentElement) {\n\t\t\t\t\t\tthis.closeAll(its, btn);\n\t\t\t\t\t}\n\t\t\t\t\tthis.open(it);\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t}\n\t\twindow.addEventListener('keydown', (e) => {\n\t\t\tif ('Escape' === e.key) {\n\t\t\t\tconst it = this.#curIts.at(-1);\n\t\t\t\tif (it) {\n\t\t\t\t\tconst { btn } = it;\n\t\t\t\t\tif (btn) {\n\t\t\t\t\t\tbtn.focus();\n\t\t\t\t\t\tbtn.click();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (MenuSimplex.getStylePropertyBool(this.#divRoot, MenuSimplex.CP_IS_CLOSED_AUTO)) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\t\t\twindow.addEventListener('scroll', MenuSimplex.throttle(() => this.doOnScroll(its)), { passive: true });\n\t\t\t});\n\t\t\tdocument.addEventListener('click', () => this.closeAll(its));\n\t\t}\n\t}\n\n\tprivate initOrder(its: Item[]): number[] {\n\t\tconst rev = MenuSimplex.getStylePropertyBool(this.#divRoot, MenuSimplex.CP_IS_REVERSED);\n\n\t\tconst ws = new Array(its.length);\n\t\tfor (let i = 0; i < its.length; i += 1) {\n\t\t\tconst { li } = its[i];\n\t\t\tws[i] = this.getWeightFromClass(li, rev ? i : its.length - i);\n\t\t}\n\t\tconst order = new Array(its.length);\n\t\tfor (let i = 0; i < its.length; i += 1) order[i] = i;\n\t\torder.sort((a: number, b: number) => ws[a] < ws[b] ? 1 : ws[a] > ws[b] ? -1 : 0);\n\n\t\treturn order;\n\t}\n\n\tprivate getWeightFromClass(li: Element, def: number): number {\n\t\tconst cs = li.className.split(' ');\n\t\tlet w: number|null = null;\n\t\tfor (const c of cs) {\n\t\t\tconst n = parseInt(c, 10);\n\t\t\tif (isNaN(n)) continue;\n\t\t\tif (null === w || w < n) w = n;\n\t\t}\n\t\treturn w ?? def;\n\t}\n\n\tprivate initFocusTrap(): HTMLElement {\n\t\tconst e = document.createElement('li');\n\t\te.className = MenuSimplex.CLS_FOCUS_TRAP;\n\t\te.tabIndex  = 0;\n\t\te.addEventListener('focus', () => {\n\t\t\tif (this.#curIts.length) {\n\t\t\t\tconst { btn } = this.#curIts[0];\n\t\t\t\tif (btn) btn.focus();\n\t\t\t}\n\t\t});\n\t\treturn e;\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\n\tprivate open(it: Item) {\n\t\tconst { li, btn, panel } = it;\n\t\tif (!btn || !panel) return;\n\n\t\tli.classList.add(MenuSimplex.CLS_OPENED);\n\t\tbtn.classList.add(MenuSimplex.CLS_OPENED);\n\t\tbtn.setAttribute('area-expanded', 'true');\n\t\tpanel.classList.add(MenuSimplex.CLS_ACTIVE);\n\n\t\tsetTimeout(() => panel.classList.add(MenuSimplex.CLS_OPENED), 0);\n\t\tthis.#curIts.push(it);\n\n\t\tpanel.style.transform = '';\n\t\tif (this.#curIts[0].panel) {\n\t\t\tthis.adjustPanelInline(this.#curIts[0].panel);\n\t\t}\n\t\tthis.#scrollY = window.scrollY;\n\n\t\tif (1 === this.#curIts.length) {\n\t\t\tif(li.classList.contains(MenuSimplex.CLS_MORE)) {\n\t\t\t\tthis.#ulMore.appendChild(this.#liFocusTrap);\n\t\t\t} else {\n\t\t\t\tconst ul = ('UL' === panel.tagName) ? panel : panel.getElementsByTagName('ul')?.[0];\n\t\t\t\tul?.appendChild(this.#liFocusTrap);\n\t\t\t}\n\t\t\tif (MenuSimplex.getStylePropertyBool(this.#divRoot, MenuSimplex.CP_IS_BG_FIXED)) {\n\t\t\t\tthis.#skipResize = true;\n\t\t\t\tMenuSimplex.fixBackground(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate adjustPanelInline(panel: HTMLElement) {\n\t\tpanel.style.transform = '';\n\t\tpanel.style.maxWidth = '';\n\t\tlet pr = panel.getBoundingClientRect();\n\t\tconst rr = this.#divRoot.getBoundingClientRect();\n\t\tif (rr.width < pr.width) {\n\t\t\tpanel.style.maxWidth = `${rr.width}px`;\n\t\t\tpr = panel.getBoundingClientRect();\n\t\t}\n\t\tif (rr.right < pr.right) {\n\t\t\tpanel.style.transform = `translateX(${rr.right - pr.right}px)`;\n\t\t}\n\t\tif (pr.left < rr.left) {\n\t\t\tpanel.style.transform = `translateX(${pr.left - rr.left}px)`;\n\t\t}\n\t}\n\n\tprivate close(it: Item) {\n\t\tconst { li, btn, panel } = it;\n\t\tif (!btn || !panel) return;\n\n\t\tli.classList.remove(MenuSimplex.CLS_OPENED);\n\t\tbtn.classList.remove(MenuSimplex.CLS_OPENED);\n\t\tbtn.setAttribute('area-expanded', 'false');\n\t\tpanel.classList.remove(MenuSimplex.CLS_OPENED);\n\n\t\tsetTimeout(() => {\n\t\t\tpanel.classList.remove(MenuSimplex.CLS_ACTIVE);\n\t\t\tif (this.#curIts.length) {\n\t\t\t\tconst { panel } = this.#curIts[0];\n\t\t\t\tif (panel) this.adjustPanelInline(panel);\n\t\t\t}\n\t\t}, 200);\n\t\tthis.#curIts.pop();\n\n\t\tif (0 === this.#curIts.length) {\n\t\t\tconst ul = ('UL' === panel.tagName) ? panel : panel.getElementsByTagName('ul')?.[0];\n\t\t\tif (ul && this.#liFocusTrap.parentElement === ul) {\n\t\t\t\tul.removeChild(this.#liFocusTrap);\n\t\t\t}\n\t\t\tif (MenuSimplex.getStylePropertyBool(this.#divRoot, MenuSimplex.CP_IS_BG_FIXED)) {\n\t\t\t\tthis.#skipResize = true;\n\t\t\t\tMenuSimplex.fixBackground(false);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate closeAll(its: Item[], opening: HTMLElement|null = null) {\n\t\tif (!this.#curIts.length) return;\n\n\t\tfor (const it of its) {\n\t\t\tconst { btn } = it;\n\t\t\tif (btn && opening !== btn) {\n\t\t\t\tthis.close(it);\n\t\t\t}\n\t\t}\n\t\tthis.#curIts.length = 0;\n\n\t\tif (MenuSimplex.getStylePropertyBool(this.#divRoot, MenuSimplex.CP_IS_BG_FIXED)) {\n\t\t\tthis.#skipResize = true;\n\t\t\tMenuSimplex.fixBackground(false);\n\t\t}\n\t}\n\n\tprivate doOnScroll(its: Item[]) {\n\t\tif (!this.#curIts.length || !this.#curIts[0].panel) {\n\t\t\treturn;\n\t\t}\n\t\tconst bcr = this.#curIts[0].panel.getBoundingClientRect();\n\t\tif (\n\t\t\tbcr.bottom < 0 ||  // When not fixed\n\t\t\t(0 < bcr.top && bcr.bottom < Math.abs(window.scrollY - this.#scrollY))  // When fixed\n\t\t) {\n\t\t\tthis.closeAll(its);\n\t\t}\n\t}\n\n\tprivate alignItems(its: Item[], order: number[]) {\n\t\tthis.setMaxWidth();\n\t\tconst inBar = this.calcItemPlace(its, order);\n\t\tits[this.#moreIdx].li.style.display = inBar[this.#moreIdx] ? '' : 'none';\n\t\tthis.setCollapsedState(inBar);\n\n\t\tlet prevElm = this.#ulBar.firstChild as HTMLElement;\n\t\tfor (let i = 0; i < its.length; i += 1) {\n\t\t\tconst { li } = its[i];\n\t\t\tif (inBar[i]) {\n\t\t\t\tif (li.parentElement === this.#ulBar) {\n\t\t\t\t\tli.style.flexGrow = '0';\n\t\t\t\t\tits[i].width = li.offsetWidth;\n\t\t\t\t\tli.style.flexGrow = '';\n\t\t\t\t}\n\t\t\t\tthis.#ulBar.insertBefore(li, prevElm.nextElementSibling);\n\t\t\t\tprevElm = li;\n\t\t\t} else if(i !== this.#moreIdx) {\n\t\t\t\tthis.#ulMore.appendChild(li);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate setMaxWidth() {\n\t\tconst p = this.#divRoot.parentElement;\n\t\tif (p) {\n\t\t\tconst s = getComputedStyle(p);\n\t\t\tconst w = p.clientWidth - (parseFloat(s.paddingLeft) + parseFloat(s.paddingRight));\n\t\t\tthis.#divRoot.style.setProperty(MenuSimplex.CP_MAX_WIDTH, `${Math.floor(w)}px`);\n\t\t}\n\t}\n\n\tprivate setCollapsedState(inBar: boolean[]) {\n\t\tif (inBar[this.#moreIdx]) {\n\t\t\tthis.#divRoot.classList.add(MenuSimplex.CLS_IS_COLLAPSED);\n\t\t} else {\n\t\t\tthis.#divRoot.classList.remove(MenuSimplex.CLS_IS_COLLAPSED);\n\t\t}\n\t\tif (inBar.every((e, i) => (i === this.#moreIdx || !e))) {\n\t\t\tthis.#divRoot.classList.add(MenuSimplex.CLS_IS_COLLAPSED_ALL);\n\t\t} else {\n\t\t\tthis.#divRoot.classList.remove(MenuSimplex.CLS_IS_COLLAPSED_ALL);\n\t\t}\n\t}\n\n\tprivate calcItemPlace(its: Item[], order: number[]): boolean[] {\n\t\tconst inBar = new Array(its.length);\n\t\tswitch (MenuSimplex.getStylePropertyString(this.#divRoot, MenuSimplex.CP_COLLAPSED)) {\n\t\t\tcase 'never':\n\t\t\t\tinBar.fill(true);\n\t\t\t\tinBar[this.#moreIdx] = false;\n\t\t\t\treturn inBar;\n\t\t\tcase 'always':\n\t\t\t\tinBar.fill(false);\n\t\t\t\tinBar[this.#moreIdx] = true;\n\t\t\t\treturn inBar;\n\t\t}\n\t\tfor (let i = 0; i < its.length; i += 1) {\n\t\t\tif (0 === its[i].width) its[i].width = its[i].li.offsetWidth;\n\t\t}\n\t\tconst gap  = this.calcBarGap();\n\t\tconst sumW = its.reduce((s: number, v: Item) => s + v.width, 0) + (gap * (its.length - 1)) - (its[this.#moreIdx].width + gap);\n\t\tlet barW   = this.calcBarWidth();\n\n\t\tif (barW < sumW) {\n\t\t\tbarW -= its[this.#moreIdx].width;\n\t\t\tinBar[this.#moreIdx] = true;\n\n\t\t\tfor (const idx of order) {\n\t\t\t\tif (idx !== this.#moreIdx) {\n\t\t\t\t\tbarW -= its[idx].width + gap;\n\t\t\t\t\tinBar[idx] = (0 <= barW);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tinBar.fill(true);\n\t\t\tinBar[this.#moreIdx] = false;\n\t\t}\n\t\treturn inBar;\n\t}\n\n\tprivate calcBarWidth(): number {\n\t\tthis.#ulBar.style.width = '0';\n\t\tlet w = Math.floor(this.#divRoot.getBoundingClientRect().width);\n\n\t\tif (0 === w && this.#divRoot.parentElement) {\n\t\t\tconst s = getComputedStyle(this.#divRoot.parentElement);\n\t\t\tif (s.display.endsWith('flex')) {\n\t\t\t\tthis.#divRoot.style.flexGrow = '1';\n\t\t\t\tw = Math.floor(this.#divRoot.getBoundingClientRect().width);\n\t\t\t\tthis.#divRoot.style.flexGrow = '';\n\t\t\t}\n\t\t}\n\n\t\tthis.#ulBar.style.width = '';\n\t\treturn w;\n\t}\n\n\tprivate calcBarGap(): number {\n\t\tconst s = getComputedStyle(this.#ulBar);\n\t\tconst g = parseInt(s.columnGap, 10);\n\t\treturn Number.isNaN(g) ? 0 : g;\n\t}\n\n}\n\nclass Item {\n\n\tconstructor(public li:HTMLElement, public btn:HTMLElement|null, public panel:HTMLElement|null, public width: number) {\n\t\tthis.li    = li;\n\t\tthis.btn   = btn;\n\t\tthis.panel = panel;\n\t\tthis.width = width;\n\t}\n\n}\n"],
  "mappings": "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",
  "names": ["fn", "isRunning", "run", "root", "elms", "enter", "e", "li", "elm", "leave", "it", "fec", "enabled", "se", "sy", "cs", "mw", "ss", "key", "value", "prop", "v", "#divRoot", "#ulBar", "#ulMore", "#liFocusTrap", "#moreIdx", "#scrollY", "#curIts", "#skipResize", "id", "divRoot", "its", "order", "allLis", "onResize", "ro", "idx", "pos", "btn", "uls", "ul", "div", "lis", "panel", "Item", "rev", "ws", "i", "a", "b", "def", "w", "c", "n", "pr", "rr", "opening", "bcr", "inBar", "prevElm", "p", "s", "gap", "sumW", "barW", "g", "width"]
}
