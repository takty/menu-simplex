window.menu_simplex=function(e=null,t={}){const n="active",l="opened",o="--max-width",s="--is-foldable",i="--is-background-fixed",r=e?document.getElementById(e):document.getElementsByClassName("menu-simplex")[0];if(!r)return;const a=r.getElementsByTagName("ul")[0];if(!a)return;const c=t.autoClose??!0,d=t.reversed??!1,u=t.buttonPosition??"end";let m=0,f=[];const p=[];function g(e,t=!1){t&&e(),p.push(function(e){let t;function n(){t=!1,e()}return()=>{t||(t=!0,requestAnimationFrame(n))}}(e))}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("scroll",(()=>{for(const e of p)e()}),{passive:!0})}));let h=!1;function y(e){if(h===e)return;h=e;const t=e?("scrollingElement"in document?document.scrollingElement:document.documentElement).scrollTop:parseInt(document.body.style.top??"0"),n=getComputedStyle(document.body),l={position:"fixed",top:-t+"px",left:"0",width:`calc(100vw - ${parseFloat(n.marginInlineStart)+parseFloat(n.marginInlineEnd)}px)`,height:"100dvh","overflow-y":"scroll"};for(const[t,n]of Object.entries(l))document.body.style[t]=e?n:null;e||window.scrollTo(0,-t)}function E(e,t){const n=getComputedStyle(e).getPropertyValue(t).trim();return n.length?function(e){if("string"!=typeof e)return Boolean(e);try{return 1==JSON.parse(e.toLowerCase())}catch(t){return 0!==e.length}}(n):null}const L=function(e,t){let n=e.querySelector("li.hamburger");n||(n=document.createElement("li"),n.classList.add("hamburger"),"end"===t?e.append(n):"start"===t&&e.prepend(n));let l=n.querySelector("button:first-of-type");l||(l=document.createElement("button"),n.appendChild(l));let o=n.querySelector("button + ul");o||(o=document.createElement("ul"),o.classList.add("menu"),n.appendChild(o));return o}(a,u),b=Array.from(a.querySelectorAll(":scope > li")),w=Array.from(a.querySelectorAll(":scope li")),v=b.findIndex((e=>e.classList.contains("hamburger"))),x=function(e,t,n){const o=[];for(const n of t){const t=n.querySelector(":scope > button");if(!t)continue;const s=t.nextElementSibling;if(s){if(t.setAttribute("area-expanded","false"),!s.id){const e=t.id?t.id:n.id?n.id:"";e&&(s.id=e+"-sub")}s.id&&t.setAttribute("area-controls",s.id),t.addEventListener("click",(s=>{t.classList.contains(l)?q(t):(e===n.parentElement&&R(o,t),I(t),m=window.scrollY),s.stopPropagation()})),o.push(t)}}window.addEventListener("keydown",(e=>{"Escape"===e.key&&f.length&&(f[f.length-1].focus(),f[f.length-1].click())})),n&&(g((()=>function(e,t,n){if(!f.length||!f[0].nextElementSibling)return;const l=f[0].nextElementSibling.getBoundingClientRect();(l.bottom<0||0<l.top&&l.bottom<Math.abs(window.scrollY-n))&&R(t)}(0,o,m))),document.addEventListener("click",(()=>R(o))));return o}(a,b,c),C=function(e,t){const n=new Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=A(e[t],e.length-t);const l=new Array(e.length);for(let t=0;t<e.length;t+=1)l[t]=t;l.sort(((e,t)=>n[e]<n[t]?1:n[e]>n[t]?-1:0)),t&&l.reverse();return l}(b,d);for(const e of b)e.addEventListener("click",(()=>R(x)));!function(e,t,n,l=null,o=null){const s=e=>{const s=e.target.parentElement;if("mouse"===e.pointerType&&!s.classList.contains(t)&&(s.classList.add(n),o))for(let e=s.parentElement;e&&e!==l;e=e.parentElement)"LI"===e.tagName&&e.classList.add(o)},i=e=>{const s=e.target.parentElement;if("mouse"===e.pointerType&&!s.classList.contains(t)&&(s.classList.remove(n),o))for(let e=s.parentElement;e&&e!==l;e=e.parentElement)"LI"===e.tagName&&e.classList.remove(o)};for(const t of e)t.firstElementChild.addEventListener("pointerenter",s),t.firstElementChild.addEventListener("pointerleave",i)}(w,"current","hover",r,"hover-ancestor");let S=!1,N=[];function A(e,t){const n=e.className.split(" ");let l=null;for(const e of n){const t=parseInt(e,10);isNaN(t)||(null===l||l<t)&&(l=t)}return l??t}setTimeout((()=>{N=b.map((e=>e.offsetWidth));const e=new ResizeObserver((()=>{requestAnimationFrame((()=>{S?S=!1:(function(e){const t=e.parentElement,n=getComputedStyle(t),l=t.clientWidth-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight));e.style.setProperty(o,`${Math.floor(l)}px`)}(r),R(x),function(e,t,n,l,o,i){const a=function(e){e.style.width="0";let t=Math.floor(r.getBoundingClientRect().width);if(0===t&&r.parentElement){getComputedStyle(r.parentElement).display.endsWith("flex")&&(r.style.flexGrow=1,t=Math.floor(r.getBoundingClientRect().width),r.style.flexGrow=null)}return e.style.width=null,t}(t);let c=parseInt(getComputedStyle(t).columnGap,10);c=Number.isNaN(c)?0:c;const d=function(e,t,n,l,o){const s=new Array(t.length),i=t.reduce(((e,t)=>e+t))+l*(t.length-1)-(t[o]+l);if(e<i){e-=t[o],s[o]=!0;for(const i of n)i!==o&&(e-=t[i]+l,s[i]=0<=e)}else s.fill(!0),s[o]=!1;return s}(a,e,i,c,o);!1===E(r,s)&&(d.fill(!0),d[o]=!1);l[o].style.display=d[o]?null:"none";let u=t.firstChild;for(let s=0;s<l.length;s+=1){const i=l[s];d[s]?(i.parentElement===t&&(e[s]=i.offsetWidth),t.insertBefore(i,u.nextElementSibling),u=i):s!==o&&n.appendChild(i)}}(N,a,L,b,v,C))}))}));e.observe(r),e.observe(r.parentElement)}),10),setTimeout((()=>r.classList.add("ready")),100);const B=document.createElement("li");function I(e){const t=e.parentElement,o=e.nextElementSibling;if(o){if(t.classList.add(l),e.classList.add(l),e.setAttribute("area-expanded","true"),o.classList.add(n),setTimeout((()=>{o.classList.add(l)}),0),f.push(e),o.style.transform=null,T(f[0].nextElementSibling),1===f.length){const e="UL"===o.tagName?o:o.getElementsByClassName("UL")?.[0];e&&e.appendChild(B)}!0===E(r,i)&&(S=!0,y(!0))}}function T(e){e.style.transform=null,e.style.maxWidth=null;let t=e.getBoundingClientRect();const n=r.getBoundingClientRect();n.width<t.width&&(e.style.maxWidth=`${n.width}px`,t=e.getBoundingClientRect()),n.right<t.right&&(e.style.transform=`translateX(${n.right-t.right}px)`),t.left<n.left&&(e.style.transform=`translateX(${t.left-n.left}px)`)}function q(e){const t=e.parentElement,o=e.nextElementSibling;if(o){if(t.classList.remove(l),e.classList.remove(l),e.setAttribute("area-expanded","false"),o.classList.remove(l),setTimeout((()=>{o.classList.remove(n),f.length&&T(f[0].nextElementSibling)}),200),f.pop(),0===f.length){const e="UL"===o.tagName?o:o.getElementsByClassName("UL")?.[0];e&&B.parentElement===e&&e.removeChild(B)}E(r,i)&&(S=!0,y(!1))}}function R(e,t=null){for(const n of e)t!==n&&q(n);f.length=0,E(r,i)&&(S=!0,y(!1))}B.className="focus-trap",B.tabIndex=0,B.addEventListener("focus",(()=>{f.length&&f[0].focus()}))};
//# sourceMappingURL=simplex.min.js.map