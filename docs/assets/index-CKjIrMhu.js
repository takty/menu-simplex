var R=Object.defineProperty;var I=(h,t,i)=>t in h?R(h,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):h[t]=i;var d=(h,t,i)=>(I(h,typeof t!="symbol"?t+"":t,i),i),w=(h,t,i)=>{if(!t.has(h))throw TypeError("Cannot "+i)};var l=(h,t,i)=>(w(h,t,"read from private field"),i?i.call(h):t.get(h)),C=(h,t,i)=>{if(t.has(h))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(h):t.set(h,i)},E=(h,t,i,e)=>(w(h,t,"write to private field"),e?e.call(h,i):t.set(h,i),i);var A=(h,t,i,e)=>({set _(r){E(h,t,r,i)},get _(){return l(h,t,e)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();var c,f,S,m,u,N,L,g,P;const s=class s{constructor(t=null){C(this,c,void 0);C(this,f,void 0);C(this,S,void 0);C(this,m,void 0);C(this,u,void 0);C(this,N,0);C(this,L,[]);C(this,g,!1);C(this,P,!1);const i=t?document.getElementById(t):document.getElementsByClassName(s.NS)[0];if(!i)throw new DOMException;if(E(this,c,i),E(this,f,l(this,c).getElementsByTagName("ul")[0]),!l(this,f))throw new DOMException;l(this,f).classList.add(s.CLS_MENU,s.CLS_MENU_BAR),l(this,c).classList.contains(s.NS)||l(this,c).classList.add(s.NS),E(this,P,l(this,c).classList.contains(s.CLS_DO_WRAP_PANEL)),[A(this,S)._,A(this,u)._]=this.initMore();const e=this.initBarItems(l(this,S));this.initPanel(e);const r=this.initOrder(e);E(this,m,this.initFocusTrap());const n=Array.from(l(this,f).querySelectorAll("li"));s.addHoverStateEventListener(l(this,c),n);const o=()=>{if(l(this,g)){E(this,g,!1);return}this.closeAll(e),this.alignItems(e,r)};setTimeout(()=>{const a=new ResizeObserver(()=>requestAnimationFrame(o));a.observe(l(this,c)),a.observe(l(this,c).parentElement)},10),setTimeout(()=>l(this,c).classList.add(s.CLS_READY),100)}static throttle(t){let i;function e(){i=!1,t()}return()=>{i||(i=!0,requestAnimationFrame(e))}}static wrapElement(t,i){var o,a;const e=(o=t.at(0))==null?void 0:o.parentNode,r=(a=t.at(-1))==null?void 0:a.nextSibling,n=document.createElement(i);for(const p of t)n.appendChild(p);return r?e==null||e.insertBefore(n,r):e==null||e.appendChild(n),n}static addHoverStateEventListener(t,i){const e=n=>{const o=n.target.parentElement;if(o&&n.pointerType==="mouse"&&!o.classList.contains(s.CLS_CURRENT)){o.classList.add(s.CLS_HOVER);for(let a=o.parentElement;a&&a!==t;a=a.parentElement)a.tagName==="LI"&&a.classList.add(s.CLS_HOVER_ANCESTOR)}},r=n=>{const o=n.target.parentElement;if(o&&n.pointerType==="mouse"&&!o.classList.contains(s.CLS_CURRENT)){o.classList.remove(s.CLS_HOVER);for(let a=o.parentElement;a&&a!==t;a=a.parentElement)a.tagName==="LI"&&a.classList.remove(s.CLS_HOVER_ANCESTOR)}};for(const n of i){const o=n.firstElementChild;o&&(o.addEventListener("pointerenter",e),o.addEventListener("pointerleave",r))}}static cancelUnexpectedClose(t){let i=t.target;for(;i&&!i.classList.contains("menu");){if(i.tagName==="A")return;i=i.parentElement}t.stopPropagation()}static fixBackground(t){if(s.fixed===t)return;s.fixed=t;const e="scrollingElement"in document?document.scrollingElement:document.documentElement;if(!e)return;const r=t?e.scrollTop:parseInt(document.body.style.top??"0"),n=getComputedStyle(document.body),o=parseFloat(n.marginInlineStart)+parseFloat(n.marginInlineEnd),a={position:"fixed",top:`${-r}px`,left:"0",width:`calc(100vw - ${o}px)`,height:"100dvh","overflow-y":"scroll"};for(const[p,y]of Object.entries(a))document.body.style[p]=t?y:"";t||window.scrollTo(0,-r)}static getStylePropertyBool(t,i){let e=getComputedStyle(t).getPropertyValue(i).trim();if((e.at(0)==='"'&&e.at(-1)==='"'||e.at(0)==="'"&&e.at(-1)==="'")&&(e=e.slice(1,-1)),!e.length)return null;if(typeof e!="string")return!!e;try{return JSON.parse(e.toLowerCase())===!0}catch{return e.length!==0}}static getStylePropertyString(t,i){const e=getComputedStyle(t).getPropertyValue(i).trim().replace(new RegExp('^"+|"+$',"g"),"");return e.length?typeof e=="string"?e:String(e):null}initMore(){let t=null,i=0;for(const a of Array.from(l(this,f).children)){if(a.classList.contains(s.CLS_MORE)){t=a;break}i+=1}if(!t){t=document.createElement("li"),t.classList.add(s.CLS_MORE);const a=s.getStylePropertyString(l(this,c),s.CP_MORE_POS);a===null||a==="end"?(l(this,f).append(t),i=l(this,f).children.length-1):a==="start"&&(l(this,f).prepend(t),i=0)}let e=t.querySelector(":scope > button");e||(e=document.createElement("button"),e.setAttribute("title","More"),t.insertBefore(e,t.firstChild));const r=t.querySelectorAll(":scope > ul, :scope > div > ul");let n=Array.from(r).find(a=>!a.children.length);if(!n){n=document.createElement("ul");let a=t.querySelector(":scope > div");a?a.appendChild(n):t.appendChild(n)}let o=n.parentElement===t?n:n.parentElement;return l(this,P)&&o===n&&(o=s.wrapElement(Array.from(t.children).filter(a=>a!==e),"div")),o.classList.add(s.CLS_PANEL,s.CLS_PANEL_MORE),o.addEventListener("click",a=>s.cancelUnexpectedClose(a)),n.classList.add(s.CLS_MENU,s.CLS_MENU_MORE),[n,i]}initBarItems(t){const i=[];for(const e of l(this,f).querySelectorAll(":scope > li")){const r=e.querySelector(":scope > button");let n=null,o=null;e.classList.contains(s.CLS_MORE)?(n=t,o=n.parentElement===e?n:n.parentElement):(n=e.querySelector(":scope > ul, :scope > div > ul"),n&&(o=n.parentElement===e?n:n.parentElement,l(this,P)&&o===n&&(o=s.wrapElement([n],"div")),o.classList.add(s.CLS_PANEL,s.CLS_PANEL_POPUP),o.addEventListener("click",a=>s.cancelUnexpectedClose(a)),n.classList.add(s.CLS_MENU,s.CLS_MENU_POPUP))),i.push(new v(e,r,o,n,0))}return i}initPanel(t){for(const i of t){const{li:e,btn:r,panel:n}=i;if(!(!r||!n)){if(r.setAttribute("area-expanded","false"),!n.id){const o=r.id?r.id:e.id?e.id:"";o&&(n.id=o+"-sub")}n.id&&r.setAttribute("area-controls",n.id),r.addEventListener("click",o=>{r.classList.contains(s.CLS_OPENED)?this.close(i):(l(this,f)===e.parentElement&&this.closeAll(t,r),this.open(i)),o.stopPropagation()})}}window.addEventListener("keydown",i=>{if(i.key==="Escape"){const e=l(this,L).at(-1);if(e){const{btn:r}=e;r&&(r.focus(),r.click())}}}),s.getStylePropertyBool(l(this,c),s.CP_IS_CLOSED_AUTO)&&(document.addEventListener("DOMContentLoaded",()=>{window.addEventListener("scroll",s.throttle(()=>this.doOnScroll(t)),{passive:!0})}),document.addEventListener("click",()=>this.closeAll(t)))}initOrder(t){const i=s.getStylePropertyBool(l(this,c),s.CP_IS_REVERSED),e=new Array(t.length);for(let n=0;n<t.length;n+=1){const{li:o}=t[n];e[n]=this.getWeightFromClass(o,i?n:t.length-n)}const r=new Array(t.length);for(let n=0;n<t.length;n+=1)r[n]=n;return r.sort((n,o)=>e[n]<e[o]?1:e[n]>e[o]?-1:0),r}getWeightFromClass(t,i){const e=t.className.split(" ");let r=null;for(const n of e){const o=parseInt(n,10);isNaN(o)||(r===null||r<o)&&(r=o)}return r??i}initFocusTrap(){const t=document.createElement("li");return t.className=s.CLS_FOCUS_TRAP,t.tabIndex=0,t.addEventListener("focus",()=>{if(l(this,L).length){const{btn:i}=l(this,L)[0];i&&i.focus()}}),t}open(t){var n;const{li:i,btn:e,panel:r}=t;if(!(!e||!r)&&(i.classList.add(s.CLS_OPENED),e.classList.add(s.CLS_OPENED),e.setAttribute("area-expanded","true"),r.classList.add(s.CLS_ACTIVE),setTimeout(()=>r.classList.add(s.CLS_OPENED),0),l(this,L).push(t),r.style.transform="",l(this,L)[0].panel&&this.adjustPanelInline(l(this,L)[0].panel),E(this,N,window.scrollY),l(this,L).length===1)){if(i.classList.contains(s.CLS_MORE))l(this,S).appendChild(l(this,m));else{const o=r.tagName==="UL"?r:(n=r.getElementsByTagName("ul"))==null?void 0:n[0];o==null||o.appendChild(l(this,m))}s.getStylePropertyBool(l(this,c),s.CP_IS_BG_FIXED)&&(E(this,g,!0),s.fixBackground(!0))}}adjustPanelInline(t){t.style.transform="",t.style.maxWidth="";let i=t.getBoundingClientRect();const e=l(this,c).getBoundingClientRect();e.width<i.width&&(t.style.maxWidth=`${e.width}px`,i=t.getBoundingClientRect()),e.right<i.right&&(t.style.transform=`translateX(${e.right-i.right}px)`),i.left<e.left&&(t.style.transform=`translateX(${i.left-e.left}px)`)}close(t){var n;const{li:i,btn:e,panel:r}=t;if(!(!e||!r)&&(i.classList.remove(s.CLS_OPENED),e.classList.remove(s.CLS_OPENED),e.setAttribute("area-expanded","false"),r.classList.remove(s.CLS_OPENED),setTimeout(()=>{if(r.classList.remove(s.CLS_ACTIVE),l(this,L).length){const{panel:o}=l(this,L)[0];o&&this.adjustPanelInline(o)}},200),l(this,L).pop(),l(this,L).length===0)){const o=r.tagName==="UL"?r:(n=r.getElementsByTagName("ul"))==null?void 0:n[0];o&&l(this,m).parentElement===o&&o.removeChild(l(this,m)),s.getStylePropertyBool(l(this,c),s.CP_IS_BG_FIXED)&&(E(this,g,!0),s.fixBackground(!1))}}closeAll(t,i=null){if(l(this,L).length){for(const e of t){const{btn:r}=e;r&&i!==r&&this.close(e)}l(this,L).length=0,s.getStylePropertyBool(l(this,c),s.CP_IS_BG_FIXED)&&(E(this,g,!0),s.fixBackground(!1))}}doOnScroll(t){if(!l(this,L).length||!l(this,L)[0].panel)return;const i=l(this,L)[0].panel.getBoundingClientRect();(i.bottom<0||0<i.top&&i.bottom<Math.abs(window.scrollY-l(this,N)))&&this.closeAll(t)}alignItems(t,i){this.setMaxWidth();const e=this.calcItemPlace(t,i);t[l(this,u)].li.style.display=e[l(this,u)]?"":"none",this.setCollapsedState(e);const r=(o,a,p)=>{o==null||o.classList.remove(a),o==null||o.classList.add(p)};let n=l(this,f).firstChild;for(let o=0;o<t.length;o+=1){const{li:a,panel:p,menu:y}=t[o];e[o]?(a.parentElement===l(this,f)&&(a.style.flexGrow="0",t[o].width=a.offsetWidth,a.style.flexGrow=""),l(this,f).insertBefore(a,n.nextElementSibling),n=a,r(p,s.CLS_IN_MORE,s.CLS_IN_BAR),p!==y&&r(y,s.CLS_IN_MORE,s.CLS_IN_BAR)):o!==l(this,u)&&(l(this,S).appendChild(a),r(p,s.CLS_IN_BAR,s.CLS_IN_MORE),p!==y&&r(y,s.CLS_IN_BAR,s.CLS_IN_MORE))}}setMaxWidth(){const t=l(this,c).parentElement;if(t){const i=getComputedStyle(t),e=t.clientWidth-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight));l(this,c).style.setProperty(s.CP_MAX_WIDTH,`${Math.floor(e)}px`)}}setCollapsedState(t){t[l(this,u)]?l(this,c).classList.add(s.CLS_IS_COLLAPSED):l(this,c).classList.remove(s.CLS_IS_COLLAPSED),t.every((i,e)=>e===l(this,u)||!i)?l(this,c).classList.add(s.CLS_IS_COLLAPSED_ALL):l(this,c).classList.remove(s.CLS_IS_COLLAPSED_ALL)}calcItemPlace(t,i){const e=new Array(t.length);switch(s.getStylePropertyString(l(this,c),s.CP_COLLAPSED)){case"never":return e.fill(!0),e[l(this,u)]=!1,e;case"always":return e.fill(!1),e[l(this,u)]=!0,e}for(let a=0;a<t.length;a+=1)t[a].width===0&&(t[a].width=t[a].li.offsetWidth);const r=this.calcBarGap(),n=t.reduce((a,p)=>a+p.width,0)+r*(t.length-1)-(t[l(this,u)].width+r);let o=this.calcBarWidth();if(o<n){o-=t[l(this,u)].width,e[l(this,u)]=!0;for(const a of i)a!==l(this,u)&&(o-=t[a].width+r,e[a]=0<=o)}else e.fill(!0),e[l(this,u)]=!1;return e}calcBarWidth(){l(this,f).style.width="0";let t=Math.floor(l(this,c).getBoundingClientRect().width);return t===0&&l(this,c).parentElement&&getComputedStyle(l(this,c).parentElement).display.endsWith("flex")&&(l(this,c).style.flexGrow="1",t=Math.floor(l(this,c).getBoundingClientRect().width),l(this,c).style.flexGrow=""),l(this,f).style.width="",t}calcBarGap(){const t=getComputedStyle(l(this,f)),i=parseInt(t.columnGap,10);return Number.isNaN(i)?0:i}};c=new WeakMap,f=new WeakMap,S=new WeakMap,m=new WeakMap,u=new WeakMap,N=new WeakMap,L=new WeakMap,g=new WeakMap,P=new WeakMap,d(s,"NS","menu-simplex"),d(s,"CLS_PANEL","panel"),d(s,"CLS_PANEL_POPUP","panel-popup"),d(s,"CLS_PANEL_MORE","panel-more"),d(s,"CLS_MENU","menu"),d(s,"CLS_MENU_BAR","menu-bar"),d(s,"CLS_MENU_POPUP","menu-popup"),d(s,"CLS_MENU_MORE","menu-more"),d(s,"CLS_FOCUS_TRAP","focus-trap"),d(s,"CLS_DO_WRAP_PANEL","do-wrap-panel"),d(s,"CP_IS_CLOSED_AUTO","--is-closed-auto"),d(s,"CP_IS_BG_FIXED","--is-background-fixed"),d(s,"CP_IS_REVERSED","--is-reversed"),d(s,"CP_MORE_POS","--more-position"),d(s,"CP_COLLAPSED","--collapsed"),d(s,"CLS_MORE","more"),d(s,"CLS_CURRENT","current"),d(s,"CLS_READY","ready"),d(s,"CLS_HOVER","hover"),d(s,"CLS_HOVER_ANCESTOR","hover-ancestor"),d(s,"CLS_ACTIVE","active"),d(s,"CLS_OPENED","opened"),d(s,"CLS_IS_COLLAPSED","is-collapsed"),d(s,"CLS_IS_COLLAPSED_ALL","is-collapsed-all"),d(s,"CLS_IN_BAR","in-bar"),d(s,"CLS_IN_MORE","in-more"),d(s,"CP_MAX_WIDTH","--max-width"),d(s,"fixed");let O=s;class v{constructor(t,i,e,r,n){this.li=t,this.btn=i,this.panel=e,this.menu=r,this.width=n,this.li=t,this.btn=i,this.panel=e,this.menu=r,this.width=n}}new O("mp0");new O("mp1");new O("mp2");new O("mp3");
