var N=Object.defineProperty;var R=(h,t,s)=>t in h?N(h,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):h[t]=s;var d=(h,t,s)=>(R(h,typeof t!="symbol"?t+"":t,s),s),w=(h,t,s)=>{if(!t.has(h))throw TypeError("Cannot "+s)};var n=(h,t,s)=>(w(h,t,"read from private field"),s?s.call(h):t.get(h)),E=(h,t,s)=>{if(t.has(h))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(h):t.set(h,s)},p=(h,t,s,e)=>(w(h,t,"write to private field"),e?e.call(h,s):t.set(h,s),s);var O=(h,t,s,e)=>({set _(r){p(h,t,r,s)},get _(){return n(h,t,e)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();var c,f,g,m,L,y,u,C;const i=class i{constructor(t=null){E(this,c,void 0);E(this,f,void 0);E(this,g,void 0);E(this,m,void 0);E(this,L,void 0);E(this,y,0);E(this,u,[]);E(this,C,!1);const s=t?document.getElementById(t):document.getElementsByClassName(i.NS)[0];if(!s)throw new DOMException;if(p(this,c,s),p(this,f,n(this,c).getElementsByTagName("ul")[0]),!n(this,f))throw new DOMException;n(this,f).classList.add(i.CLS_MENU,i.CLS_MENU_BAR),n(this,c).classList.contains(i.NS)||n(this,c).classList.add(i.NS),[O(this,g)._,O(this,L)._]=this.initMore();const e=this.initBarItems();this.initPanel(e);const r=this.initOrder(e);p(this,m,this.initFocusTrap());const o=Array.from(n(this,f).querySelectorAll("li"));i.addHoverStateEventListener(n(this,c),o);const l=()=>{if(n(this,C)){p(this,C,!1);return}this.closeAll(e),this.alignItems(e,r)};setTimeout(()=>{const a=new ResizeObserver(()=>requestAnimationFrame(l));a.observe(n(this,c)),a.observe(n(this,c).parentElement)},10),setTimeout(()=>n(this,c).classList.add(i.CLS_READY),100)}static throttle(t){let s;function e(){s=!1,t()}return()=>{s||(s=!0,requestAnimationFrame(e))}}static addHoverStateEventListener(t,s){const e=o=>{const l=o.target.parentElement;if(l&&o.pointerType==="mouse"&&!l.classList.contains(i.CLS_CURRENT)){l.classList.add(i.CLS_HOVER);for(let a=l.parentElement;a&&a!==t;a=a.parentElement)a.tagName==="LI"&&a.classList.add(i.CLS_HOVER_ANCESTOR)}},r=o=>{const l=o.target.parentElement;if(l&&o.pointerType==="mouse"&&!l.classList.contains(i.CLS_CURRENT)){l.classList.remove(i.CLS_HOVER);for(let a=l.parentElement;a&&a!==t;a=a.parentElement)a.tagName==="LI"&&a.classList.remove(i.CLS_HOVER_ANCESTOR)}};for(const o of s){const l=o.firstElementChild;l&&(l.addEventListener("pointerenter",e),l.addEventListener("pointerleave",r))}}static fixBackground(t){if(i.fixed===t)return;i.fixed=t;const e=(()=>"scrollingElement"in document?document.scrollingElement:document.documentElement)();if(!e)return;const r=t?e.scrollTop:parseInt(document.body.style.top??"0"),o=getComputedStyle(document.body),l=parseFloat(o.marginInlineStart)+parseFloat(o.marginInlineEnd),a={position:"fixed",top:`${-r}px`,left:"0",width:`calc(100vw - ${l}px)`,height:"100dvh","overflow-y":"scroll"};for(const[P,A]of Object.entries(a))document.body.style[P]=t?A:"";t||window.scrollTo(0,-r)}static getStylePropertyBool(t,s){let e=getComputedStyle(t).getPropertyValue(s).trim();if((e.at(0)==='"'&&e.at(-1)==='"'||e.at(0)==="'"&&e.at(-1)==="'")&&(e=e.slice(1,-1)),!e.length)return null;if(typeof e!="string")return!!e;try{return JSON.parse(e.toLowerCase())===!0}catch{return e.length!==0}}static getStylePropertyString(t,s){const e=getComputedStyle(t).getPropertyValue(s).trim().replace(new RegExp('^"+|"+$',"g"),"");return e.length?typeof e=="string"?e:String(e):null}initMore(){let t=null,s=0;for(const a of Array.from(n(this,f).children)){if(a.classList.contains(i.CLS_MORE)){t=a;break}s+=1}if(!t){t=document.createElement("li"),t.classList.add(i.CLS_MORE);const a=i.getStylePropertyString(n(this,c),i.CP_MORE_POS);a===null||a==="end"?(n(this,f).append(t),s=n(this,f).children.length-1):a==="start"&&(n(this,f).prepend(t),s=0)}let e=t.querySelector(":scope > button");e||(e=document.createElement("button"),e.setAttribute("title","More"),t.insertBefore(e,t.firstChild));const r=t.querySelectorAll(":scope > ul, :scope > div > ul");let o=Array.from(r).find(a=>!a.children.length);if(!o){o=document.createElement("ul");const a=t.querySelector(":scope > div");a?a.appendChild(o):t.appendChild(o)}return o.classList.add(i.CLS_MENU,i.CLS_MENU_MORE),(o.parentElement===t?o:o.parentElement).classList.add(i.CLS_PANEL,i.CLS_PANEL_MORE),[o,s]}initBarItems(){const t=[],s=Array.from(n(this,f).querySelectorAll(":scope > li"));for(const e of s){const r=e.querySelector(":scope > button"),o=e.querySelector(":scope > :is(ul, div)");o&&!e.classList.contains(i.CLS_MORE)&&(o.classList.add(i.CLS_PANEL,i.CLS_PANEL_POPUP),(o.tagName==="UL"?o:o.querySelector(":scope > ul")).classList.add(i.CLS_MENU,i.CLS_MENU_POPUP)),t.push(new v(e,r,o,0))}return t}initPanel(t){for(const s of t){const{li:e,btn:r,panel:o}=s;if(!(!r||!o)){if(r.setAttribute("area-expanded","false"),!o.id){const l=r.id?r.id:e.id?e.id:"";l&&(o.id=l+"-sub")}o.id&&r.setAttribute("area-controls",o.id),r.addEventListener("click",l=>{r.classList.contains(i.CLS_OPENED)?this.close(s):(n(this,f)===e.parentElement&&this.closeAll(t,r),this.open(s)),l.stopPropagation()})}}window.addEventListener("keydown",s=>{if(s.key==="Escape"){const e=n(this,u).at(-1);if(e){const{btn:r}=e;r&&(r.focus(),r.click())}}}),i.getStylePropertyBool(n(this,c),i.CP_IS_CLOSED_AUTO)&&(document.addEventListener("DOMContentLoaded",()=>{window.addEventListener("scroll",i.throttle(()=>this.doOnScroll(t)),{passive:!0})}),document.addEventListener("click",()=>this.closeAll(t)))}initOrder(t){const s=i.getStylePropertyBool(n(this,c),i.CP_IS_REVERSED),e=new Array(t.length);for(let o=0;o<t.length;o+=1){const{li:l}=t[o];e[o]=this.getWeightFromClass(l,s?o:t.length-o)}const r=new Array(t.length);for(let o=0;o<t.length;o+=1)r[o]=o;return r.sort((o,l)=>e[o]<e[l]?1:e[o]>e[l]?-1:0),r}getWeightFromClass(t,s){const e=t.className.split(" ");let r=null;for(const o of e){const l=parseInt(o,10);isNaN(l)||(r===null||r<l)&&(r=l)}return r??s}initFocusTrap(){const t=document.createElement("li");return t.className=i.CLS_FOCUS_TRAP,t.tabIndex=0,t.addEventListener("focus",()=>{if(n(this,u).length){const{btn:s}=n(this,u)[0];s&&s.focus()}}),t}open(t){var o;const{li:s,btn:e,panel:r}=t;if(!(!e||!r)){if(s.classList.add(i.CLS_OPENED),e.classList.add(i.CLS_OPENED),e.setAttribute("area-expanded","true"),r.classList.add(i.CLS_ACTIVE),setTimeout(()=>r.classList.add(i.CLS_OPENED),0),n(this,u).push(t),r.style.transform="",n(this,u)[0].panel&&this.adjustPanelInline(n(this,u)[0].panel),p(this,y,window.scrollY),n(this,u).length===1)if(s.classList.contains(i.CLS_MORE))n(this,g).appendChild(n(this,m));else{const l=r.tagName==="UL"?r:(o=r.getElementsByTagName("ul"))==null?void 0:o[0];l==null||l.appendChild(n(this,m))}i.getStylePropertyBool(n(this,c),i.CP_IS_BG_FIXED)&&(p(this,C,!0),i.fixBackground(!0))}}adjustPanelInline(t){t.style.transform="",t.style.maxWidth="";let s=t.getBoundingClientRect();const e=n(this,c).getBoundingClientRect();e.width<s.width&&(t.style.maxWidth=`${e.width}px`,s=t.getBoundingClientRect()),e.right<s.right&&(t.style.transform=`translateX(${e.right-s.right}px)`),s.left<e.left&&(t.style.transform=`translateX(${s.left-e.left}px)`)}close(t){var o;const{li:s,btn:e,panel:r}=t;if(!(!e||!r)){if(s.classList.remove(i.CLS_OPENED),e.classList.remove(i.CLS_OPENED),e.setAttribute("area-expanded","false"),r.classList.remove(i.CLS_OPENED),setTimeout(()=>{if(r.classList.remove(i.CLS_ACTIVE),n(this,u).length){const{panel:l}=n(this,u)[0];l&&this.adjustPanelInline(l)}},200),n(this,u).pop(),n(this,u).length===0){const l=r.tagName==="UL"?r:(o=r.getElementsByTagName("ul"))==null?void 0:o[0];l&&n(this,m).parentElement===l&&l.removeChild(n(this,m))}i.getStylePropertyBool(n(this,c),i.CP_IS_BG_FIXED)&&(p(this,C,!0),i.fixBackground(!1))}}closeAll(t,s=null){if(n(this,u).length){for(const e of t){const{btn:r}=e;r&&s!==r&&this.close(e)}n(this,u).length=0,i.getStylePropertyBool(n(this,c),i.CP_IS_BG_FIXED)&&(p(this,C,!0),i.fixBackground(!1))}}doOnScroll(t){if(!n(this,u).length||!n(this,u)[0].panel)return;const s=n(this,u)[0].panel.getBoundingClientRect();(s.bottom<0||0<s.top&&s.bottom<Math.abs(window.scrollY-n(this,y)))&&this.closeAll(t)}alignItems(t,s){this.setMaxWidth();const e=this.calcItemPlace(t,s);t[n(this,L)].li.style.display=e[n(this,L)]?"":"none",this.setCollapsedState(e);let r=n(this,f).firstChild;for(let o=0;o<t.length;o+=1){const{li:l}=t[o];e[o]?(l.parentElement===n(this,f)&&(l.style.flexGrow="0",t[o].width=l.offsetWidth,l.style.flexGrow=""),n(this,f).insertBefore(l,r.nextElementSibling),r=l):o!==n(this,L)&&n(this,g).appendChild(l)}}setMaxWidth(){const t=n(this,c).parentElement;if(t){const s=getComputedStyle(t),e=t.clientWidth-(parseFloat(s.paddingLeft)+parseFloat(s.paddingRight));n(this,c).style.setProperty(i.CP_MAX_WIDTH,`${Math.floor(e)}px`)}}setCollapsedState(t){t[n(this,L)]?n(this,c).classList.add(i.CLS_IS_COLLAPSED):n(this,c).classList.remove(i.CLS_IS_COLLAPSED),t.every((s,e)=>e===n(this,L)||!s)?n(this,c).classList.add(i.CLS_IS_COLLAPSED_ALL):n(this,c).classList.remove(i.CLS_IS_COLLAPSED_ALL)}calcItemPlace(t,s){const e=new Array(t.length);switch(i.getStylePropertyString(n(this,c),i.CP_COLLAPSED)){case"never":return e.fill(!0),e[n(this,L)]=!1,e;case"always":return e.fill(!1),e[n(this,L)]=!0,e}for(let a=0;a<t.length;a+=1)t[a].width===0&&(t[a].width=t[a].li.offsetWidth);const r=this.calcBarGap(),o=t.reduce((a,P)=>a+P.width,0)+r*(t.length-1)-(t[n(this,L)].width+r);let l=this.calcBarWidth();if(l<o){l-=t[n(this,L)].width,e[n(this,L)]=!0;for(const a of s)a!==n(this,L)&&(l-=t[a].width+r,e[a]=0<=l)}else e.fill(!0),e[n(this,L)]=!1;return e}calcBarWidth(){n(this,f).style.width="0";let t=Math.floor(n(this,c).getBoundingClientRect().width);return t===0&&n(this,c).parentElement&&getComputedStyle(n(this,c).parentElement).display.endsWith("flex")&&(n(this,c).style.flexGrow="1",t=Math.floor(n(this,c).getBoundingClientRect().width),n(this,c).style.flexGrow=""),n(this,f).style.width="",t}calcBarGap(){const t=getComputedStyle(n(this,f)),s=parseInt(t.columnGap,10);return Number.isNaN(s)?0:s}};c=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,L=new WeakMap,y=new WeakMap,u=new WeakMap,C=new WeakMap,d(i,"NS","menu-simplex"),d(i,"CLS_PANEL","panel"),d(i,"CLS_PANEL_POPUP","panel-popup"),d(i,"CLS_PANEL_MORE","panel-more"),d(i,"CLS_MENU","menu"),d(i,"CLS_MENU_BAR","menu-bar"),d(i,"CLS_MENU_POPUP","menu-popup"),d(i,"CLS_MENU_MORE","menu-more"),d(i,"CLS_FOCUS_TRAP","focus-trap"),d(i,"CP_IS_CLOSED_AUTO","--is-closed-auto"),d(i,"CP_IS_BG_FIXED","--is-background-fixed"),d(i,"CP_IS_REVERSED","--is-reversed"),d(i,"CP_MORE_POS","--more-position"),d(i,"CP_COLLAPSED","--collapsed"),d(i,"CLS_MORE","more"),d(i,"CLS_CURRENT","current"),d(i,"CLS_READY","ready"),d(i,"CLS_HOVER","hover"),d(i,"CLS_HOVER_ANCESTOR","hover-ancestor"),d(i,"CLS_ACTIVE","active"),d(i,"CLS_OPENED","opened"),d(i,"CLS_IS_COLLAPSED","is-collapsed"),d(i,"CLS_IS_COLLAPSED_ALL","is-collapsed-all"),d(i,"CP_MAX_WIDTH","--max-width"),d(i,"fixed");let S=i;class v{constructor(t,s,e,r){this.li=t,this.btn=s,this.panel=e,this.width=r,this.li=t,this.btn=s,this.panel=e,this.width=r}}new S("mp0");new S("mp1");new S("mp2");new S("mp3");
