var I=Object.defineProperty;var R=(a,t,s)=>t in a?I(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;var u=(a,t,s)=>(R(a,typeof t!="symbol"?t+"":t,s),s),v=(a,t,s)=>{if(!t.has(a))throw TypeError("Cannot "+s)};var o=(a,t,s)=>(v(a,t,"read from private field"),s?s.call(a):t.get(a)),g=(a,t,s)=>{if(t.has(a))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(a):t.set(a,s)},m=(a,t,s,e)=>(v(a,t,"write to private field"),e?e.call(a,s):t.set(a,s),s);var P=(a,t,s,e)=>({set _(i){m(a,t,i,s)},get _(){return o(a,t,e)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();var c,f,L,y,p,S,h,E;const l=class l{constructor(t=null){g(this,c,void 0);g(this,f,void 0);g(this,L,void 0);g(this,y,void 0);g(this,p,void 0);g(this,S,0);g(this,h,[]);g(this,E,!1);const s=t?document.getElementById(t):document.getElementsByClassName(l.NS)[0];if(!s)throw new DOMException;if(m(this,c,s),m(this,f,o(this,c).getElementsByTagName("ul")[0]),!o(this,f))throw new DOMException;o(this,c).classList.contains(l.NS)||o(this,c).classList.add(l.NS),[P(this,L)._,P(this,p)._]=this.initMore();const e=this.initBarItems();this.initPopup(e);const i=this.initOrder(e);m(this,y,this.initFocusTrap());const n=Array.from(o(this,f).querySelectorAll("li"));l.addHoverStateEventListener(o(this,c),n),setTimeout(()=>{const r=new ResizeObserver(()=>requestAnimationFrame(()=>{if(o(this,E)){m(this,E,!1);return}this.closeAll(e),this.alignItems(e,i)}));r.observe(o(this,c)),r.observe(o(this,c).parentElement)},10),setTimeout(()=>o(this,c).classList.add(l.CLS_READY),100)}static throttle(t){let s;function e(){s=!1,t()}return()=>{s||(s=!0,requestAnimationFrame(e))}}static addHoverStateEventListener(t,s){const e=n=>{const r=n.target.parentElement;if(r&&n.pointerType==="mouse"&&!r.classList.contains(l.CLS_CURRENT)){r.classList.add(l.CLS_HOVER);for(let d=r.parentElement;d&&d!==t;d=d.parentElement)d.tagName==="LI"&&d.classList.add(l.CLS_HOVER_ANCESTOR)}},i=n=>{const r=n.target.parentElement;if(r&&n.pointerType==="mouse"&&!r.classList.contains(l.CLS_CURRENT)){r.classList.remove(l.CLS_HOVER);for(let d=r.parentElement;d&&d!==t;d=d.parentElement)d.tagName==="LI"&&d.classList.remove(l.CLS_HOVER_ANCESTOR)}};for(const n of s){const r=n.firstElementChild;r&&(r.addEventListener("pointerenter",e),r.addEventListener("pointerleave",i))}}static fixBackground(t){if(l.fixed===t)return;l.fixed=t;const e=(()=>"scrollingElement"in document?document.scrollingElement:document.documentElement)();if(!e)return;const i=t?e.scrollTop:parseInt(document.body.style.top??"0"),n=getComputedStyle(document.body),r=parseFloat(n.marginInlineStart)+parseFloat(n.marginInlineEnd),d={position:"fixed",top:`${-i}px`,left:"0",width:`calc(100vw - ${r}px)`,height:"100dvh","overflow-y":"scroll"};for(const[w,O]of Object.entries(d))document.body.style[w]=t?O:"";t||window.scrollTo(0,-i)}static getStylePropertyBool(t,s){let e=getComputedStyle(t).getPropertyValue(s).trim();if((e.at(0)==='"'&&e.at(-1)==='"'||e.at(0)==="'"&&e.at(-1)==="'")&&(e=e.slice(1,-1)),!e.length)return null;if(typeof e!="string")return!!e;try{return JSON.parse(e.toLowerCase())===!0}catch{return e.length!==0}}static getStylePropertyString(t,s){const e=getComputedStyle(t).getPropertyValue(s).trim().replace(new RegExp('^"+|"+$',"g"),"");return e.length?typeof e=="string"?e:String(e):null}initMore(){let t=null,s=0;for(const r of Array.from(o(this,f).children)){if(r.classList.contains(l.CLS_MORE)){t=r;break}s+=1}if(!t){t=document.createElement("li"),t.classList.add(l.CLS_MORE);const r=l.getStylePropertyString(o(this,c),l.CP_MORE_POS);r===null||r==="end"?(o(this,f).append(t),s=o(this,f).children.length-1):r==="start"&&(o(this,f).prepend(t),s=0)}let e=t.querySelector(":scope > button");e||(e=document.createElement("button"),e.setAttribute("title","More"),t.insertBefore(e,t.firstChild));const i=t.querySelectorAll(":scope > ul, :scope > div > ul");let n=Array.from(i).find(r=>!r.children.length);if(!n){n=document.createElement("ul"),n.classList.add("menu");const r=t.querySelector(":scope > div");r?r.appendChild(n):t.appendChild(n)}return[n,s]}initBarItems(){const t=[],s=Array.from(o(this,f).querySelectorAll(":scope > li"));for(const e of s){const i=e.querySelector(":scope > button"),n=e.querySelector(":scope > :is(ul, div)"),r=e.offsetWidth;t.push(new A(e,i,n,r))}return t}initPopup(t){for(const s of t){const{li:e,btn:i,popup:n}=s;if(!(!i||!n)){if(i.setAttribute("area-expanded","false"),!n.id){const r=i.id?i.id:e.id?e.id:"";r&&(n.id=r+"-sub")}n.id&&i.setAttribute("area-controls",n.id),i.addEventListener("click",r=>{i.classList.contains(l.CLS_OPENED)?this.close(s):(o(this,f)===e.parentElement&&this.closeAll(t,i),this.open(s)),r.stopPropagation()})}}window.addEventListener("keydown",s=>{if(s.key==="Escape"){const e=o(this,h).at(-1);if(e){const{btn:i}=e;i&&(i.focus(),i.click())}}}),l.getStylePropertyBool(o(this,c),l.CP_IS_CLOSED_AUTO)&&(document.addEventListener("DOMContentLoaded",()=>{window.addEventListener("scroll",l.throttle(()=>this.doOnScroll(t)),{passive:!0})}),document.addEventListener("click",()=>this.closeAll(t)))}initOrder(t){const s=l.getStylePropertyBool(o(this,c),l.CP_IS_REVERSED),e=new Array(t.length);for(let n=0;n<t.length;n+=1){const{li:r}=t[n];e[n]=this.getWeightFromClass(r,s?n:t.length-n)}const i=new Array(t.length);for(let n=0;n<t.length;n+=1)i[n]=n;return i.sort((n,r)=>e[n]<e[r]?1:e[n]>e[r]?-1:0),i}getWeightFromClass(t,s){const e=t.className.split(" ");let i=null;for(const n of e){const r=parseInt(n,10);isNaN(r)||(i===null||i<r)&&(i=r)}return i??s}initFocusTrap(){const t=document.createElement("li");return t.className="focus-trap",t.tabIndex=0,t.addEventListener("focus",()=>{if(o(this,h).length){const{btn:s}=o(this,h)[0];s&&s.focus()}}),t}open(t){var n;const{li:s,btn:e,popup:i}=t;if(!(!e||!i)){if(s.classList.add(l.CLS_OPENED),e.classList.add(l.CLS_OPENED),e.setAttribute("area-expanded","true"),i.classList.add(l.CLS_ACTIVE),setTimeout(()=>i.classList.add(l.CLS_OPENED),0),o(this,h).push(t),i.style.transform="",o(this,h)[0].popup&&this.adjustPopupInline(o(this,h)[0].popup),m(this,S,window.scrollY),o(this,h).length===1){const r=i.tagName==="UL"?i:(n=i.getElementsByTagName("ul"))==null?void 0:n[0];r&&r.appendChild(o(this,y))}l.getStylePropertyBool(o(this,c),l.CP_IS_BG_FIXED)&&(m(this,E,!0),l.fixBackground(!0))}}adjustPopupInline(t){t.style.transform="",t.style.maxWidth="";let s=t.getBoundingClientRect();const e=o(this,c).getBoundingClientRect();e.width<s.width&&(t.style.maxWidth=`${e.width}px`,s=t.getBoundingClientRect()),e.right<s.right&&(t.style.transform=`translateX(${e.right-s.right}px)`),s.left<e.left&&(t.style.transform=`translateX(${s.left-e.left}px)`)}close(t){var n;const{li:s,btn:e,popup:i}=t;if(!(!e||!i)){if(s.classList.remove(l.CLS_OPENED),e.classList.remove(l.CLS_OPENED),e.setAttribute("area-expanded","false"),i.classList.remove(l.CLS_OPENED),setTimeout(()=>{if(i.classList.remove(l.CLS_ACTIVE),o(this,h).length){const{popup:r}=o(this,h)[0];r&&this.adjustPopupInline(r)}},200),o(this,h).pop(),o(this,h).length===0){const r=i.tagName==="UL"?i:(n=i.getElementsByTagName("ul"))==null?void 0:n[0];r&&o(this,y).parentElement===r&&r.removeChild(o(this,y))}l.getStylePropertyBool(o(this,c),l.CP_IS_BG_FIXED)&&(m(this,E,!0),l.fixBackground(!1))}}closeAll(t,s=null){if(o(this,h).length){for(const e of t){const{btn:i}=e;i&&s!==i&&this.close(e)}o(this,h).length=0,l.getStylePropertyBool(o(this,c),l.CP_IS_BG_FIXED)&&(m(this,E,!0),l.fixBackground(!1))}}doOnScroll(t){if(!o(this,h).length||!o(this,h)[0].popup)return;const s=o(this,h)[0].popup.getBoundingClientRect();(s.bottom<0||0<s.top&&s.bottom<Math.abs(window.scrollY-o(this,S)))&&this.closeAll(t)}alignItems(t,s){this.setMaxWidth();const e=this.calcItemPlace(t,s);t[o(this,p)].li.style.display=e[o(this,p)]?"":"none";let i=o(this,f).firstChild;for(let n=0;n<t.length;n+=1){const{li:r}=t[n];e[n]?(r.parentElement===o(this,f)&&(t[n].width=r.offsetWidth),o(this,f).insertBefore(r,i.nextElementSibling),i=r):n!==o(this,p)&&o(this,L).appendChild(r)}}setMaxWidth(){const t=o(this,c).parentElement;if(t){const s=getComputedStyle(t),e=t.clientWidth-(parseFloat(s.paddingLeft)+parseFloat(s.paddingRight));o(this,c).style.setProperty(l.CP_MAX_WIDTH,`${Math.floor(e)}px`)}}calcItemPlace(t,s){const e=new Array(t.length);switch(l.getStylePropertyString(o(this,c),l.CP_COLLAPSED)){case"never":return e.fill(!0),e[o(this,p)]=!1,e;case"always":return e.fill(!1),e[o(this,p)]=!0,e}const i=this.calcBarGap(),n=t.reduce((d,w)=>d+w.width,0)+i*(t.length-1)-(t[o(this,p)].width+i);let r=this.calcBarWidth();if(r<n){r-=t[o(this,p)].width,e[o(this,p)]=!0;for(const d of s)d!==o(this,p)&&(r-=t[d].width+i,e[d]=0<=r)}else e.fill(!0),e[o(this,p)]=!1;return e}calcBarWidth(){o(this,f).style.width="0";let t=Math.floor(o(this,c).getBoundingClientRect().width);return t===0&&o(this,c).parentElement&&getComputedStyle(o(this,c).parentElement).display.endsWith("flex")&&(o(this,c).style.flexGrow="1",t=Math.floor(o(this,c).getBoundingClientRect().width),o(this,c).style.flexGrow=""),o(this,f).style.width="",t}calcBarGap(){const t=getComputedStyle(o(this,f)),s=parseInt(t.columnGap,10);return Number.isNaN(s)?0:s}};c=new WeakMap,f=new WeakMap,L=new WeakMap,y=new WeakMap,p=new WeakMap,S=new WeakMap,h=new WeakMap,E=new WeakMap,u(l,"NS","menu-simplex"),u(l,"CP_IS_CLOSED_AUTO","--is-closed-auto"),u(l,"CP_IS_BG_FIXED","--is-background-fixed"),u(l,"CP_IS_REVERSED","--is-reversed"),u(l,"CP_MORE_POS","--more-position"),u(l,"CP_COLLAPSED","--collapsed"),u(l,"CLS_MORE","more"),u(l,"CLS_CURRENT","current"),u(l,"CLS_READY","ready"),u(l,"CLS_HOVER","hover"),u(l,"CLS_HOVER_ANCESTOR","hover-ancestor"),u(l,"CLS_ACTIVE","active"),u(l,"CLS_OPENED","opened"),u(l,"CP_MAX_WIDTH","--max-width"),u(l,"fixed");let C=l;class A{constructor(t,s,e,i){this.li=t,this.btn=s,this.popup=e,this.width=i,this.li=t,this.btn=s,this.popup=e,this.width=i}}new C("mp0");new C("mp1");new C("mp2");new C("mp3");
